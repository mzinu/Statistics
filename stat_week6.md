# 통계학 6주차 정규과제

📌통계학 정규과제는 매주 정해진 분량의 『*데이터 분석가가 반드시 알아야 할 모든 것*』 을 읽고 학습하는 것입니다. 이번 주는 아래의 **Statistics_6th_TIL**에 나열된 분량을 읽고 `학습 목표`에 맞게 공부하시면 됩니다.

아래의 문제를 풀어보며 학습 내용을 점검하세요. 문제를 해결하는 과정에서 개념을 스스로 정리하고, 필요한 경우 추가자료와 교재를 다시 참고하여 보완하는 것이 좋습니다.

6주차는 `3부. 데이터 분석하기`를 읽고 새롭게 배운 내용을 정리해주시면 됩니다.


## Statistics_6th_TIL

### 3부. 데이터 분석하기
### 12.통계 기반 분석 방법론



## Study Schedule

|주차 | 공부 범위     | 완료 여부 |
|----|----------------|----------|
|1주차| 1부 p.2~56     | ✅      |
|2주차| 1부 p.57~79    | ✅      | 
|3주차| 2부 p.82~120   | ✅      | 
|4주차| 2부 p.121~202  | ✅      | 
|5주차| 2부 p.203~254  | ✅      | 
|6주차| 3부 p.300~356  | ✅      | 
|7주차| 3부 p.357~615  | 🍽️      |

<!-- 여기까진 그대로 둬 주세요-->

# 12.통계 기반 분석 방법론

```
✅ 학습 목표 :
* 주성분 분석(PCA)의 개념을 설명할 수 있다.
* 다중공선성을 진단할 수 있다.
* Z-TEST와 T-TEST의 개념을 비교하고, 적절한 상황에서 검정을 설계하고 수행할 수 있다.
* ANOVA TEST를 활용하여 세 개 이상의 그룹 간 평균 차이를 검정하고, 사후검정을 수행할 수 있다.
* 카이제곱 검정을 통해 범주형 변수 간의 독립성과 연관성을 분석하는 방법을 설명할 수 있다.
```

## 12.1. 분석 모델 개요

- 통계 모델
	- 모형과 해석을 중요하게 생각하며, 오차와 불확정성을 강조
- 기계 학습(머신러닝 모델)
	- 대용량 데이터를 활용하여 예측의 정확도를 높이는 것을 중시
	- 데이터 분석 방법론
		- 지도/비지도 학습(강화학습)
			- 지도학습 : 정답이 주어져서 출력된 결괏값과 정답 사이의 오차 축소
			- 비지도 학습 : 자율학습. 별도의 정답이 없음 -> 변수 간의 패턴 파악, 데이터 군집화
			- 강화 학습 : 동물이 시행착오를 통해 학습하는 과정을 기본 콘셉트로 한 방법 중 하나
				- 모델의 결과에 보상과 벌을 주면서 스스로 학습시킴
		- 독립변수/종속변수의 속성
		- 질적/양적 척도
			- 상호 배타적 구분 x, 하나의 방법론이 양적, 질적 변수 형태에 모두 사용가능한 경우 있음(ex. 회귀모델, k-nearest 모델)
			
## 12.2. 주성분 분석(PCA)

- 주성분 분석 : 여러 개의 독립변수들을 잘 설명해 줄 수 있는 주된 성분을 추출하는 기법
	- 전체 변수들의 핵심 특성만 선별 -> 독립변수(차원)의 수 감소 -> 차원의 저주 방지 : 여러 개의 변수를 소수의 특정 변수로 축약 가공
		- 변수 선택을 통해 불필요, 유의성 낮은 변수 제거
		- 변수의 잠재적 성분 추출을 통해 차원 감소 -> 주성분 분석, 공통요인분석
			- 요인 추출 모델
				- 주성분 분석(PCA) : 변수의 수 축약, 정보 손실 최소화
					- 	일반적으로  두 개의 주 성분만 선정
					- 각 포인트들이 직각으로 맞닿는 지점의 분포가 가장 넓게 퍼진 축
					- 변수 개수에 따라 주성분이 나옴
					
				- 공통요인분석(CFA) : 변수 사이 차원 규명 -> 변수 간 구조 파악
	- 변수 감소 -> 모형 간단화, 분석 결과 효과적 해석
	- 사용 변수들이 모두 양적변수(등간척도, 비율척도 측정)
	- 관측치들이 서로 독립적, 정규분포를 이뤄야 함.

## 12.4. 다중공선성 해결과 섀플리 밸류 분석

- 다중공선성 : 독립변수들 간의 상관관계가 높은 현상
	- 두 개 이상의 독립변수가 서로 선형적인 관계를 나타낼 때
	- 추정치의 통계적 유의성 낮아짐, 모델 정합성 낮아짐
	- 판별 기준
		- 상관분석을 통해 상관계수가 0.7 이상인 변수
		- R^2(독립변수들의 설명력)은 크고 t값(회귀계수)은 낮음
		- VIF(분산팽창계수) : 해당 변수가 다른 변수들에 의해 설명될 수 있는 정도
			- 0 < R^2 < 1
			- 5 이상 의심, 10 이상 판단
- 다중공선성 해결
	- VIF값이 높은 변수들 중 종속변수와의 상관성이 가장 낮은 변수 제거 -> 다시 VIF값 확인
	- 표본 관측치 추가적 확보 -> 일반적으로 분석 모수가 많아질수록 회귀계수 분산, 표준오차 감소
	- 변수 가공 : 로그 값 변환, 표준화 및 정규화 변환, 연속형 변수 구간화 및 명목변수화
	- 주성분분석, 변수 선택 알고리즘(전진 선택법, 후진 제거법, 단계적 선택법) ,,,
	
- 새플리 밸류 분석 :독립변수의 설명력 분배 방법
	- 해당 변수를 모델에 투입했을 때 설명력에 기여하는 정도를 측정하는 기준값으로 활용
								
## 12.6. Z-test와 T-test

- 두 집단 간의 평균 차이 분석
- 분석하고자 하는 변수가 양적 변수, 정규분포, 등분산이어야 함
- Z-test 
	- 원래 모집단의 분산을 알 수 있는 경우에 사용
	- 표본 > 30, 중심 극한 정리에 의해 표본 평균분포가 정규분포를 따른다고 봄
- T-test
	- 표본 < 30, 표본 집단의 정규분포를 가정할 수 없을때
	- 일반적 사용
	- 평균차 클수록, 표본 수 클수록 t값 증가
	- 값간 표준 편차 클수록 t값 감소
	
## 12.7. ANOVA(분산 분석)
- 세 집단 이상의 평균 차이 검정
- F 분포 : 집단 간 분산의 비율
	- 연속확률분포 -> 두 모분산의 비교 및 검정.
	- 항상 양의 값, 오른쪽으로 긴 꼬리 형태
	- 독립변수 값이 종속변수에 미치는 영향을 검정하는 점에서 회귀분석과 유사
	- 독립변수는 범주형, 종속변수는 연속형
		- 회귀분석 : 독립 종속 연속형
		- 교차분석 : 독립 종속 분류형
- 각 집단의 평균이 서로 멀리 떨어져 있어 집단 평균의 분산이 큰 정도를 따짐
	- 집단 내 분산, 집단 간 평균의 분산 사용
		- 집단의 분산이 커서 집단 간에 관측치의 값이 겹치는 부분이 큼 -> 각 집단의 평균이 다르다고 하기 어려움 (반대도 똑같이 적용)
- 집단 간 평균의 분산 / 집단 내 분산이 유의도 임계치를 초과하는가에 따라 집단 간 평균차이 검정

- 사후검증
	- 독립변수 수준 사이에서 평균의 차이를 알고자 할 때
	- Turkey의 HSD 검증, Scheffe 검증 등
	
## 12.8. 카이제곱 검정(교차분석)

- 범주형 변수(명목, 서열척도)간의 연관성 분석. 결합분포 활용
- 변수들 간의 범주를 동시에 교차하는 교차표 제작 -> 각각의 빈도와 비율을 통해 변수 상호 간의 독립성과 관련성 분석
- 연관성 정도를 수치로 표현하지 않고 검정 통계량 (카이제곱)을 통해 귀무가설 기각여부로 상관성 판단




<br>
<br>

# 확인 문제

### **문제 1.**
> **🧚 경희는 다트비 교육 연구소의 연구원이다. 경희는 이번에 새롭게 개발한 교육 프로그램이 기존 프로그램보다 학습 성취도 향상에 효과적인지 검증하고자 100명의 학생을 무작위로 두 그룹으로 나누어 한 그룹(A)은 새로운 교육 프로그램을, 다른 그룹(B)은 기존 교육 프로그램을 수강하도록 하였다. 실험을 시작하기 전, 두 그룹(A, B)의 초기 시험 점수 평균을 비교한 결과, 유의미한 차이가 없었다. 8주 후, 학생들의 최종 시험 점수를 수집하여 두 그룹 간 평균 점수를 비교하려고 한다.**   

> **🔍 Q1. 이 실험에서 사용할 적절한 검정 방법은 무엇인가요?**

```
T-test
```

> **🔍 Q2. 이 실험에서 설정해야 할 귀무가설과 대립가설을 각각 작성하세요.**

```
- 귀무가설 : 두 그룹(A, B)의 최종 시험 평균 점수에 차이가 없다.  
- 대립가설 : 두 그룹(A, B)의 최종 시험 평균 점수에 차이가 있다.

```

> **🔍 Q3. 검정을 수행하기 위한 절차를 순서대로 서술하세요.**


```
1. 패키지 임포트 및 데이터 불러오기
2. 각 그룹의 통곗값 확인
3. 정규성 검정 수행 (Shapiro-Wilk test)
4. 등분산성 검정 수행 (bartlett)
5. 대응 표본 및 독립 표본 t-test 실시
6. p-value를 확인하여 귀무가설 기각 여부를 결정

```

> **🔍 Q4. 이 검정을 수행할 때 가정해야 하는 통계적 조건을 설명하세요.**

```
1. 두 그룹은 서로 독립적이어야 함
2. 각 그룹의 점수는 정규분포를 따른다고 가정
3. 두 그룹의 분산은 서로 동일하다고 가정 (등분산성)
```

> **🔍 Q5. 추가적으로 최신 AI 기반 교육 프로그램(C)도 도입하여 기존 프로그램(B) 및 새로운 프로그램(A)과 비교하여 성취도 차이가 있는지 평가하고자 한다면 어떤 검정 방법을 사용해야 하나요? 단, 실험을 시작하기 전, C 그룹의 초기 점수 평균도 A, B 그룹과 유의미한 차이가 없었다고 가정한다.**

```
ANOVA
```

> **🔍 Q6. 5번에서 답한 검정을 수행한 결과, 유의미한 차이가 나타났다면 추가적으로 어떤 검정을 수행해 볼 수 있을까요?**

```
사후 검정
```

---

### **문제 2. 카이제곱 검정**  
> **🧚 다음 중 어떠한 경우에 카이제곱 검정을 사용해야 하나요?   
1️⃣ 제품 A, B, C의 평균 매출 차이를 비교하고자 한다.  
2️⃣ 남성과 여성의 신체 건강 점수 평균 차이를 분석한다.  
3️⃣ 제품 구매 여부(구매/미구매)와 고객의 연령대(10대, 20대, 30대…) 간의 연관성을 분석한다.  
4️⃣ 특정 치료법이 환자의 혈압을 감소시키는 효과가 있는지 확인한다.**  

```
3️⃣ 제품 구매 여부(구매/미구매)와 고객의 연령대(10대, 20대, 30대…) 간의 연관성을 분석한다. 
```

### 🎉 수고하셨습니다.
